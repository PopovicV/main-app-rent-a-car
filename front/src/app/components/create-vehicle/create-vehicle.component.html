<pm-header></pm-header>
<!-- Masthead-->
<header class="masthead">
    <div class="container">
        <div class="masthead-subheading">Be part of the most reliable rent-a-car system</div>
        <div class="masthead-heading text-uppercase">Add your own car</div>
    </div>
</header>
<section class="page-section">
    <div class="container">
        <div *ngIf="vehicleInfoShow" class="row" style="justify-content: left;">
            <mat-card style="width: 100%; box-sizing: border-box;">
                <mat-card-title>
                    <label>Add your vehicle</label>
                </mat-card-title>
                <mat-card-content>
                    <div class="row">
                        <div class="col-4">
                            <mat-form-field>
                                <mat-label>Vehicle make</mat-label>
                                <mat-select (selectionChange)="onMakeChange()" [(value)]="selectedMake">
                                    <mat-option *ngFor="let make of makes" [value]="make">
                                        {{make.value}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Vehicle model</mat-label>
                                <mat-select [(value)]="selectedModel">
                                    <mat-option *ngFor="let model of models" [value]="model">
                                        {{model.value}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-4">
                            <AutocompleteComponent (setAddress)="getAddress($event)" adressType="geocode">
                            </AutocompleteComponent>
                        </div>
                        <div class="col-4">
                            <div class="row">
                                <img [src]="imgURL" height="200" *ngIf="imgURL">
                            </div>
                            <div class="row">
                                <input #file accept="image/*" style="display: none" type="file"
                                    (change)="onFileChanged($event)" #fileInput>
                            </div>
                            <div class="row" style="margin-top: 50px;">
                                <button style="margin-right: 20px;" mat-raised-button  color="primary"
                                    (click)="fileInput.click()">Select
                                    picture</button>
                                <button mat-raised-button color="warn" (click)="removePicture()"
                                    >Remove
                                    picture</button>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-4">
                            <mat-form-field>
                                <mat-label>Vehicle style</mat-label>
                                <mat-select [(value)]="selectedStyle">
                                    <mat-option *ngFor="let style of styles" [value]="style">
                                        {{style.value}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Vehicle transmission</mat-label>
                                <mat-select [(value)]="selectedTransmission">
                                    <mat-option *ngFor="let transmission of transmissions" [value]="transmission">
                                        {{transmission.value}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-4">
                            <mat-form-field class="example-full-width">
                                <mat-label>Mileage</mat-label>
                                <input matInput placeholder="Ex. 10000" type="number" [(ngModel)]="mileage">
                            </mat-form-field>
                            <mat-form-field class="example-full-width">
                                <mat-label>Mileage limit</mat-label>
                                <input matInput placeholder="Ex. 10000" type="number" [(ngModel)]="mileageLimit">
                            </mat-form-field>
                        </div>
                        <div class="col-4">

                        </div>
                    </div>
                    <div class="row">
                        <div class="col-4">
                            <mat-form-field>
                                <mat-label>Vehicle fuel type</mat-label>
                                <mat-select [(value)]="selectedFuelType">
                                    <mat-option *ngFor="let fuelType of fuelTypes" [value]="fuelType">
                                        {{fuelType.value}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-4">

                        </div>
                        <div class="col-4">

                        </div>
                    </div>
                    <div class="row" style="margin-top: 50px;">
                        <div class="col-4">
                            <mat-form-field style="width: 180px;">
                                <mat-label>Choose start date</mat-label>
                                <input matInput [min]="minDate" [matDatepicker]="startDateDP" [(ngModel)]="startDate">
                                <mat-datepicker-toggle matSuffix [for]="startDateDP"></mat-datepicker-toggle>
                                <mat-datepicker #startDateDP></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <div class="col-4">
                            <mat-form-field class="example-full-width">
                                <mat-label>Children seats</mat-label>
                                <input matInput placeholder="Ex. 2" type="number" [(ngModel)]="childrenSeats">
                            </mat-form-field>
                        </div>
                        <div class="col-4">

                        </div>
                    </div>
                    <div class="row">
                        <div class="col-4">
                            <mat-form-field style="width: 180px;">
                                <mat-label>Choose end date</mat-label>
                                <input matInput [min]="minDate" [matDatepicker]="endDateDP" [(ngModel)]="endDate">
                                <mat-datepicker-toggle matSuffix [for]="endDateDP"></mat-datepicker-toggle>
                                <mat-datepicker #endDateDP></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <div class="col-4">
                            <mat-checkbox [(ngModel)]="collisionProtection">Collision protection</mat-checkbox>
                        </div>
                        <div class="col-4">

                        </div>
                    </div>
                    <div class="row">
                        <div class="col-4">
                            <button mat-raised-button color="primary" class="float-left" (click)="addPricelists()">
                                Add prices
                            </button>
                        </div>
                        <div class="col-4">
                        </div>
                        <div class="col-3">
                            <button mat-raised-button color="accent" class="float-right" (click)="createVehicle()">
                                Add vehicle
                            </button>
                        </div>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>
        <pm-pricelist-create (valueUpdate)="getUpdatedvalue($event)" [(results)] = "results" *ngIf="vehicleInfoValid"></pm-pricelist-create>
    </div>
</section>